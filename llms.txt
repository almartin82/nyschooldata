# nyschooldata

**Docs: <https://almartin82.github.io/nyschooldata/>**

An R package for fetching and processing New York State school
enrollment data from [NYSED](https://data.nysed.gov/).

## What can you find with nyschooldata?

**48 years of enrollment data** (1977-2025). 4,700+ schools. 700+
districts. 62 counties. Here are the stories hiding in the numbers.

------------------------------------------------------------------------

### 1. The Vanishing Million

New York public schools lost **895,544 students** since 1977—a **27%
decline**. The 1977 peak of 3.3 million has fallen to 2.4 million today.

``` r
library(nyschooldata)
library(dplyr)

# 48 years of enrollment history
fetch_enr_years(c(1977, 1985, 1995, 2005, 2015, 2024), level = "district") %>%
  filter(grade_level == "TOTAL") %>%
  group_by(end_year) %>%
  summarize(total = sum(n_students, na.rm = TRUE))
#> 1977: 3,299,863  (peak)
#> 1990: 2,509,928  (baby bust trough)
#> 2000: 2,864,473  (millennial recovery)
#> 2024: 2,404,319  (new all-time low)
```

![Statewide enrollment
decline](https://almartin82.github.io/nyschooldata/articles/district-hooks_files/figure-html/statewide-trend-1.png)

Statewide enrollment decline

------------------------------------------------------------------------

### 2. The COVID Cliff

2021 saw an unprecedented **4.2% single-year drop**—106,560 students
vanished in one year. But 2024 shows the first positive change (+0.02%)
in over a decade.

``` r
state_trend %>%
  mutate(
    change = total - lag(total),
    pct_change = change / lag(total) * 100
  )
#> 2021: -106,560 (-4.16%)
#> 2024: +388 (+0.02%)
```

![Year-over-year
changes](https://almartin82.github.io/nyschooldata/articles/district-hooks_files/figure-html/covid-impact-1.png)

Year-over-year changes

------------------------------------------------------------------------

### 3. The Pre-K Revolution

Full-day Pre-K exploded **463%**—from 28,000 to 157,000 students. NYC’s
Universal Pre-K program drove a 115% jump in 2015 alone.

``` r
fetch_enr_years(2012:2024, level = "district") %>%
  filter(grade_level == "PK_FULL") %>%
  group_by(end_year) %>%
  summarize(total = sum(n_students, na.rm = TRUE))
#> 2012:  27,885
#> 2024: 157,116  (+463%)
```

![Pre-K
growth](https://almartin82.github.io/nyschooldata/articles/district-hooks_files/figure-html/prek-growth-1.png)

Pre-K growth

------------------------------------------------------------------------

### 4. The Bronx Exodus

The Bronx lost **23.7%** of its students—the worst decline among major
counties. Nearly 50,000 students gone.

``` r
# County-level changes
enr %>%
  filter(grade_level == "TOTAL") %>%
  group_by(end_year, county) %>%
  summarize(total = sum(n_students, na.rm = TRUE)) %>%
  # ... calculate change
#> BRONX: -49,447 (-23.7%)
```

![County
changes](https://almartin82.github.io/nyschooldata/articles/district-hooks_files/figure-html/county-change-1.png)

County changes

------------------------------------------------------------------------

### 5. Rochester’s Collapse

Rochester City SD lost **30%** of its enrollment—the steepest decline
among major urban districts. From 32,000 to 23,000 students.

``` r
fetch_enr_district("261600", 2012:2024) %>%
  filter(grade_level == "TOTAL")
#> 2012: 32,289
#> 2024: 22,668  (-29.8%)
```

![Major district
declines](https://almartin82.github.io/nyschooldata/articles/district-hooks_files/figure-html/major-districts-1.png)

Major district declines

------------------------------------------------------------------------

### 6. NYC’s Special Ed Surge

While nearly every NYC district shrank, **District 75 grew 40%**. NYC’s
citywide special education district is one of very few that gained
students.

``` r
# NYC geographic districts vs District 75
fetch_enr_nyc(2012:2024) %>%
  filter(grepl("DIST 75", district_name), grade_level == "TOTAL")
#> 2012: 19,406
#> 2024: 27,190  (+40.1%)
```

![District 75
growth](https://almartin82.github.io/nyschooldata/articles/district-hooks_files/figure-html/district75-1.png)

District 75 growth

------------------------------------------------------------------------

### 7. First Grade is Cratering

Grade 1 enrollment fell **17.4%**—the steepest decline by grade level.
The pipeline of future students is shrinking.

``` r
enr %>%
  filter(grade_level == "01") %>%
  group_by(end_year) %>%
  summarize(total = sum(n_students, na.rm = TRUE))
#> 2012: 193,366
#> 2024: 159,723  (-17.4%)
```

![Grade-level
changes](https://almartin82.github.io/nyschooldata/articles/district-hooks_files/figure-html/grade-change-1.png)

Grade-level changes

------------------------------------------------------------------------

### 8. Charter Schools Keep Growing

Charter schools now enroll **181,000 students (7.3%)** across 343
schools—growing even as traditional public school enrollment declines.

``` r
fetch_enr(2024, level = "school") %>%
  filter(grade_level == "TOTAL", is_school) %>%
  group_by(is_charter) %>%
  summarize(total = sum(n_students, na.rm = TRUE), n_schools = n())
#> Charter:     181,334 (343 schools)
#> Traditional: 2,307,920 (4,406 schools)
```

------------------------------------------------------------------------

### 9. Only One County Grew

Out of 62 counties, **only Saratoga grew** (+0.3%). Every other county
declined.

``` r
county_change %>% filter(pct_change > 0)
#> SARATOGA: +85 (+0.3%)
```

------------------------------------------------------------------------

### 10. The Pre-K Divide

NYC Pre-K is now **99% full-day** (103K of 104K students). The rest of
the state? Only 85%. A fundamental policy gap.

``` r
fetch_enr(2024, level = "district") %>%
  filter(grade_level %in% c("PK_FULL", "PK_HALF")) %>%
  group_by(is_nyc, grade_level) %>%
  summarize(total = sum(n_students, na.rm = TRUE))
#> NYC:         99% full-day
#> Rest of NY:  85% full-day
```

![Pre-K full-day
comparison](https://almartin82.github.io/nyschooldata/articles/district-hooks_files/figure-html/prek-fullday-1.png)

Pre-K full-day comparison

------------------------------------------------------------------------

## Installation

``` r
# install.packages("remotes")
remotes::install_github("almartin82/nyschooldata")
```

## Quick Start

``` r
library(nyschooldata)
library(dplyr)

# Fetch 2024 data (2023-24 school year)
enr <- fetch_enr(2024)

# Statewide total
enr %>%
  filter(is_district, grade_level == "TOTAL") %>%
  summarize(total = sum(n_students, na.rm = TRUE))
#> 2,404,319 students

# Top 10 districts
enr %>%
  filter(is_district, grade_level == "TOTAL") %>%
  arrange(desc(n_students)) %>%
  select(district_name, county, n_students) %>%
  head(10)
```

## Available Data

- **Years**: 1977-2025 (48 school years!)
- **Levels**: School, district, county, state
- **Grades**: Pre-K through 12, plus ungraded
- **Flags**: NYC, charter, district aggregates

Note: Pre-K data available from 1995+. Earlier years have K-12 only.

## Documentation

- [Full Analysis: 10 Surprising
  Findings](https://almartin82.github.io/nyschooldata/articles/district-hooks.html)
- [Getting Started
  Guide](https://almartin82.github.io/nyschooldata/articles/quickstart.html)
- [API Reference](https://almartin82.github.io/nyschooldata/reference/)

## Related Packages

- [njschooldata](https://github.com/almartin82/njschooldata) - New
  Jersey
- [ilschooldata](https://github.com/almartin82/ilschooldata) - Illinois

# Package index

## Fetch Data

Download enrollment data from NYSED

- [`fetch_enr()`](https://almartin82.github.io/nyschooldata/reference/fetch_enr.md)
  : Fetch New York enrollment data
- [`fetch_enr_years()`](https://almartin82.github.io/nyschooldata/reference/fetch_enr_years.md)
  : Fetch enrollment data for multiple years
- [`fetch_enr_school()`](https://almartin82.github.io/nyschooldata/reference/fetch_enr_school.md)
  : Get enrollment for a specific school by BEDS code
- [`fetch_enr_district()`](https://almartin82.github.io/nyschooldata/reference/fetch_enr_district.md)
  : Get enrollment for a specific district
- [`fetch_enr_nyc()`](https://almartin82.github.io/nyschooldata/reference/fetch_enr_nyc.md)
  : Get NYC enrollment data

## Process & Tidy

Transform data into analysis-ready formats

- [`tidy_enr()`](https://almartin82.github.io/nyschooldata/reference/tidy_enr.md)
  : Tidy enrollment data
- [`id_enr_aggs()`](https://almartin82.github.io/nyschooldata/reference/id_enr_aggs.md)
  : Identify enrollment aggregation levels
- [`enr_grade_aggs()`](https://almartin82.github.io/nyschooldata/reference/enr_grade_aggs.md)
  : Custom Enrollment Grade Level Aggregates
- [`filter_grade_span()`](https://almartin82.github.io/nyschooldata/reference/filter_grade_span.md)
  : Filter enrollment data by grade span

## Cache Management

Manage locally cached data

- [`cache_status()`](https://almartin82.github.io/nyschooldata/reference/cache_status.md)
  : Show cache status
- [`clear_enr_cache()`](https://almartin82.github.io/nyschooldata/reference/clear_enr_cache.md)
  : Clear the nyschooldata cache

## Utilities

Helper functions for working with NY school data

- [`school_year_label()`](https://almartin82.github.io/nyschooldata/reference/school_year_label.md)
  : School Year Label
- [`parse_school_year()`](https://almartin82.github.io/nyschooldata/reference/parse_school_year.md)
  : Parse School Year Label
- [`get_available_years()`](https://almartin82.github.io/nyschooldata/reference/get_available_years.md)
  : Get Available Years
- [`validate_beds_code()`](https://almartin82.github.io/nyschooldata/reference/validate_beds_code.md)
  : Validate BEDS code format
- [`parse_beds_code()`](https://almartin82.github.io/nyschooldata/reference/parse_beds_code.md)
  : Parse BEDS code into components

# Articles

### Explore the Data

- [10 Surprising Findings in NY School
  Enrollment](https://almartin82.github.io/nyschooldata/articles/district-hooks.md):

### Reference

- [Getting Started with
  nyschooldata](https://almartin82.github.io/nyschooldata/articles/quickstart.md):
- [Data Quality QA: NY School
  Enrollment](https://almartin82.github.io/nyschooldata/articles/data-quality-qa.md):
